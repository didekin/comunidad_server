Resources:
    sslSecurityGroupIngress:
        Type: AWS::EC2::SecurityGroupIngress
        Properties:
            GroupId: {"Fn::GetAtt" : ["AWSEBSecurityGroup", "GroupId"]}
            IpProtocol: tcp
            ToPort: 443
            FromPort: 443
            CidrIp: 0.0.0.0/0

files:
  /etc/pki/tls/certs/server.crt:
    content: |
      -----BEGIN CERTIFICATE-----
      MIIGPDCCBCSgAwIBAgICEAcwDQYJKoZIhvcNAQELBQAwgYExCzAJBgNVBAYTAkVT
      MQ8wDQYDVQQIDAZNYWRyaWQxEzARBgNVBAoMCkRpZGVraW5fQ0ExEzARBgNVBAsM
      CkRpZGVraW5fQ0ExEzARBgNVBAMMCkRpZGVraW5fQ0ExIjAgBgkqhkiG9w0BCQEW
      E2NvbnRhY3RvQGRpZGVraW4uZXMwHhcNMTcwNzE0MTczMzA2WhcNMTkwNzE0MTcz
      MzA2WjCB0DELMAkGA1UEBhMCRVMxDzANBgNVBAgMBk1hZHJpZDEcMBoGA1UEBwwT
      TGFzIFJvemFzIGRlIE1hZHJpZDEYMBYGA1UECgwPZGlkZWtpbi13ZWItcHJvMRgw
      FgYDVQQLDA9kaWRla2luLXdlYi1wcm8xOjA4BgNVBAMMMWRpZGVraW4td2ViLXBy
      by5ldS1jZW50cmFsLTEuZWxhc3RpY2JlYW5zdGFsay5jb20xIjAgBgkqhkiG9w0B
      CQEWE2NvbnRhY3RvQGRpZGVraW4uZXMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
      ggEKAoIBAQDSFi4lq4ztSBucTGTNyqDPlh1A5q0o9NYNaFkCAAxEmsqWM5ZoxqI4
      5E4gmdmIaPKIVWVcfCbOPcWySSth+RYFuuqGN8E0Cuq9xUV4lBEFAT8FohJURMvJ
      X6+mo42B8Z/Vtx+CDGSGhnC+KiXb9mcmhd7K7U7B7iuyaN7tQuIsbg/W/dzYHJUO
      KXeJEPmMRiCjyKPQILoxy5gIm1p+BFdf3EXa37EEUS4CQiVxZjpl/7X09gUUc+Wl
      HYpDAkrrURSoq7uC3dRQwu1AI0gRVzmj1zLJMNFh2tQw0NhraOUkLBxZZH6pgns1
      DqfG8no+DWv29fBr7yZ2QYidxYdY3gVbAgMBAAGjggFrMIIBZzAJBgNVHRMEAjAA
      MBEGCWCGSAGG+EIBAQQEAwIGQDAzBglghkgBhvhCAQ0EJhYkT3BlblNTTCBHZW5l
      cmF0ZWQgU2VydmVyIENlcnRpZmljYXRlMB0GA1UdDgQWBBTfkjtPRIczdbA+RNjb
      0xlctrqRezCBzQYDVR0jBIHFMIHCgBSzDsFibCrRD6NBcEBxlleBPrd476GBpaSB
      ojCBnzELMAkGA1UEBhMCRVMxDzANBgNVBAgMBk1hZHJpZDEcMBoGA1UEBwwTTGFz
      IFJvemFzIGRlIE1hZHJpZDETMBEGA1UECgwKRGlkZWtpbl9DQTETMBEGA1UECwwK
      RGlkZWtpbl9DQTETMBEGA1UEAwwKRGlkZWtpbl9DQTEiMCAGCSqGSIb3DQEJARYT
      Y29udGFjdG9AZGlkZWtpbi5lc4ICEAAwDgYDVR0PAQH/BAQDAgWgMBMGA1UdJQQM
      MAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBCwUAA4ICAQCU6VJsROyfapfPQ7EcjRfV
      bCJ6fy6ltYi9abgbikz4HGFIlDAx80AE/pCApsQlLhRkl/ktZn6zISSyGCWP8B47
      ZCwxq0ZNrnOAy5WXZUeRC66lCVb3k6yOjJ4zT0lhLccMb6B6pD8vz+sTTCyuGA/K
      poTBBR6KtgADOWAJoCgfCtS+2TDTAH5lUXu+f8/eHrtAq+SUFNr5eeUdXk3mVkOK
      ZjbjWC4tFdsjPD2IxBQmBtSlPytPaK5u0GSXFJ/RSc7mnGkFhrp50BixJcO16luR
      SLRXD6dniwNTdJrLCfQXq/eJWZw/k9jWf2B7Tq3SSfNFR9jAx4PuGMvwiUK552Zg
      br+WQA+6cE2vR9gzNXdLPTKc9Ud4i0JRLLQgTVqjVfmI0sQ69Jl/XQ+lsxV1uwk4
      jB4ZDpZDSavMrpqgcnWP/1rEnYZErcKLp2SbTSjktwv3nsjJBNBPGTL8GeQ7/FFq
      EVdZ7uV/ZGVmW7eRIktggjDiqbmo2vtGDG0WGlH+6mffYL7uJYqN6y59wIOpE4PZ
      xxAIOIhoJcOliMd2ow6Z+e+WuajYwW02a3qhQ5sI5EVXvCEXs39/kvt1aBjcEHo3
      4xYJwvojB+5FIY0nn4U844+OVWaB3YoYlaUR7aHU3Oh7/eAoHnhHmH6cIN1hgrJv
      jGbShO1HGtbOl2cA1UxOzg==
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      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
      5ces2n0A/xU=
      -----END CERTIFICATE-----
      -----BEGIN CERTIFICATE-----
      MIIGJjCCBA6gAwIBAgIJAJc4GCPBfsfPMA0GCSqGSIb3DQEBCwUAMIGfMQswCQYD
      VQQGEwJFUzEPMA0GA1UECAwGTWFkcmlkMRwwGgYDVQQHDBNMYXMgUm96YXMgZGUg
      TWFkcmlkMRMwEQYDVQQKDApEaWRla2luX0NBMRMwEQYDVQQLDApEaWRla2luX0NB
      MRMwEQYDVQQDDApEaWRla2luX0NBMSIwIAYJKoZIhvcNAQkBFhNjb250YWN0b0Bk
      aWRla2luLmVzMB4XDTE2MTAwNDEwNDA0NVoXDTQ0MTIxNjEwNDA0NVowgZ8xCzAJ
      BgNVBAYTAkVTMQ8wDQYDVQQIDAZNYWRyaWQxHDAaBgNVBAcME0xhcyBSb3phcyBk
      ZSBNYWRyaWQxEzARBgNVBAoMCkRpZGVraW5fQ0ExEzARBgNVBAsMCkRpZGVraW5f
      Q0ExEzARBgNVBAMMCkRpZGVraW5fQ0ExIjAgBgkqhkiG9w0BCQEWE2NvbnRhY3Rv
      QGRpZGVraW4uZXMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQCjVCSI
      rkGeyahoIOA9CtPEAghwLzcfvBL1J/ZmrER4iNgRThjQCw7V9J9wK8rYecrDlf4P
      t97MdkipbD/34vsP9f9QRi8dvGTc+peNawODYl2/dCsXedO3ntzjOM6iCQxWT0nu
      T4EUG0bMAobvgqeW9EjmjE4M0UsAdTV12+JnEuyqT5Jz0QvbQW8A1VK7ZMMRicbe
      6ZbZUlx9u9e4Eso8woFA80uptrMy4sw0J1gp2mwBXjpAUK4gAXqnevPHyxauovqv
      jadqqIdZ6EAQaXZblOLtyKaVoIip7KefMga2yjlxg7KHtymNjd+DJDEfCSQTUwQz
      lZIZczd+3/fr3FM0PC+kOtD/EO3e/ZLzoNqzaVZUMU4EA+mktKQSqPMznm1n5aKF
      TJkR2FAjIuneD75WuvMlNmHT9N82WSI41aGGhQfJiVHl25rajSIY5vwLGGyZslTI
      omavbQij+sfwZzOAGlDFFx4HIg2iGHSyY0rgW8cgZnb3a7Luh4OFayoScKcjkkyC
      bjd6QAObhk8n3+a0nFTjZucL/BUeQW0TdJf3CCa24xJizgbdUozn2ERGc/QuaxoZ
      fu2NHItlXaZ8AxKGlj08zHYMDoS43Ti7keyJBq9WUqcbSGU44N1PyS0LqzhDQ7/S
      ZdvO6go6w4MuP35UFCNbpKswrS9tlKUXWTbViwIDAQABo2MwYTAdBgNVHQ4EFgQU
      TvnziiaqvxCof00L/SIWDaW/NKkwHwYDVR0jBBgwFoAUTvnziiaqvxCof00L/SIW
      DaW/NKkwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcN
      AQELBQADggIBAIL5VU+K6CCa8c+GztHMCfzI+qG9R5i8fdqe5KGcRUKz3VKg1ovR
      lCZ5TZ1rHDS792owsjksRwErwFDHWxrK79AsKrnkoMk90ZI3KLmNbjxL3vsQMZP5
      91m66xUlBy3iN5lIMhS5EHEhA1jJuO6Nl6pXFVwXSoXoCPlICvvSUNyy5G1idW3S
      P6Xigp6n8YhF5mq5MQpJ7x5YfJyqdYrVibcHLHopQ8GHrrU+S87zX2xZPjckBiyD
      /dKlFiyOILXZqk5Ud1toNZjd+HZFBmixSSeDh8ZWwtmB3cgjjV7gt4+ogBTnSTZ4
      0pTamwdfCknwn8cyMuCragASf9A68t6LthpH614XsJqb4J9t62ToEa45VewPrKUP
      6MTT/MPRHuW7+MUovnmXiPGyd+EefRuCPGZroOTL95EjsIB9tt5oX3uk3OSUaMgS
      vgyZJ8yjq9F3Hkog1tvyONJVbULIpkm7+pUZkm8WJFRXo9ndzOHfSz6Oq7Mvp2OR
      ene+yQ2X0bm+NrbM43IkdSTvJc3BGQd7bPyV+4mI89DQDLQ8XgJpQ0JBI1XP+Ma5
      CCNo1ZhVe+sDX9WRpGd7+0bykvRb971TRlIFfFs9YPEY77WwY3ieLG6rFTIR03Nr
      DxvqFFd/4wCIPmyVj19aQorsJHuHWUEo9WNU7JhzqzObx6l3LUzaxZ+V
      -----END CERTIFICATE-----
  /etc/pki/tls/certs/server.key:
    content: |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEpAIBAAKCAQEA0hYuJauM7UgbnExkzcqgz5YdQOatKPTWDWhZAgAMRJrKljOW
      aMaiOOROIJnZiGjyiFVlXHwmzj3FskkrYfkWBbrqhjfBNArqvcVFeJQRBQE/BaIS
      VETLyV+vpqONgfGf1bcfggxkhoZwviol2/ZnJoXeyu1Owe4rsmje7ULiLG4P1v3c
      2ByVDil3iRD5jEYgo8ij0CC6McuYCJtafgRXX9xF2t+xBFEuAkIlcWY6Zf+19PYF
      FHPlpR2KQwJK61EUqKu7gt3UUMLtQCNIEVc5o9cyyTDRYdrUMNDYa2jlJCwcWWR+
      qYJ7NQ6nxvJ6Pg1r9vXwa+8mdkGIncWHWN4FWwIDAQABAoIBACICJyw/7gtHPfj6
      QOMzZv7TrR6heOyFXdVDzAzP1yyP5jWUWkfRx9bv1lnereEwI/q/4C2th1ahl0w6
      HgS5HsCEtoxNoD/9eGyJ76oKRgsKXZpa1x6/GEIb9EJEfZbId3hQMZCK0wcX4k5W
      YlSOObp5t0wgSDyKgpZZ9aRwzE4mo9gR4u1pimNGn0F4HtCD8erLbH3/mNzFx6s6
      3jj/i6+xt27kFz3Xl6lhpS+NpgpAwLjeeGAYbImC4L+TePwxOwjOWM+xBEr8MwXd
      G/CgVrmoh31hSaoTuhtuxpi8qDevhzVMnJr9mBSOo1S7VRo+mZQeyeAvzXCq677K
      isoT0sECgYEA76eyVAc5VqHRx8Ltg5BMHHTZr9p0ugaC1caqDHJ3ks5Ply00PKun
      Xe8cBRVr4eiopUhQ+u3GBMcZNY5dtyTWK1iPafCHvyN97eT9y5ABOUOyO3XExsF3
      at9/jx+dd1fvq2k+qNkdmFt0n8/rVbR4GrSx2FFW5iEKro5CDSaBRuECgYEA4Go6
      ZuGfd1n0cwkRPEwSR/jZTRAwaGdaghgvF4/QgngtwAN3CjjjNP0uzLflEoms/omU
      GBvl0lef2Gw/BdLtHYfFN4iwL6wJ/5JajdAp1ZF1/hvUsbibGZxj4+M1Bl3MEXVB
      d4WVuXZuq9/MY5m71XnzQdmkr/9NFxHAMx4aH7sCgYEAonMCJoNfEqJOGSLA7VV6
      wi9TACkMxqxzM4We7yEIfLLssIUry5RvtvTGAYwrvM6AwsjqW62hdMuhAvSmAecu
      ZeN6E03ANohQbFm0z6+lpLOGtVd3M2MhF4i4ZsP/cU5iX8bPepTxwrz7qPi/hTD3
      2OJzSzaXuRbcrsYvb8qSBwECgYAWg7HORo6IG9dBf0RiZ0NiQx4R9DDXGJ9k8+Yt
      l/kUTdhRLkfQF7r7wvbiBQUPYg6gDs9zx8C75JydyuZbwDiXwNpRYv5CGiF6qYU6
      OwsnaQuMbeBd4CZ3YFBJOa9FLz3c9oWV5yoJTE94IODRkUfd9/kmvx4dpiBm0xoU
      Rs3aJwKBgQCr77LWj+wzekvEhBbjxTUOq+1SLWlUzKJBrDe9R6wx0qqX7q6WDIcH
      tVB3lf0KOdY/cZpWtj2VSso0MKmweSUhYy3jEQGzodjzvv6U1Zjo5mO2oAeuEuQs
      mNzDCaU+lQ9T3eq7pbVX2rX385l8haLakCLNx3Wpzf8lF9F6Fx6mlQ==
      -----END RSA PRIVATE KEY-----
container_commands:
  01restart_nginx:
    command: "service nginx restart"